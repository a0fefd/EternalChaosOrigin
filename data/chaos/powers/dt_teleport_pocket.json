{
	"key": {
		"key": "key.origins.senary_active"
	},
	"type": "origins:active_self",
	"entity_action": {
		"type": "origins:if_else",
		"condition": {
			"type": "origins:dimension",
			"dimension": "spatialanomaly:pocket_dimension",
			"inverted": true
		},
		"if_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:dimension", 
						"dimension": "minecraft:the_nether"
					},
					"if_action": {
						"type": "origins:and",
						"actions": [{
								"type": "origins:execute_command",
								"command": "function spatialanomaly:save_nether_coordinates"
							},
							{
								"type": "origins:execute_command",
								"command": "scoreboard players set @s find_safe_nether_pos 0"
							}
						]
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:dimension", 
						"dimension": "minecraft:the_end"
					},
					"if_action": {
						"type": "origins:and",
						"actions": [{
								"type": "origins:execute_command",
								"command": "function spatialanomaly:save_end_coordinates"
							},
							{
								"type": "origins:execute_command",
								"command": "scoreboard players set @s find_safe_end_pos 0"
							}
						]
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:dimension", 
						"dimension": "minecraft:overworld"
					},
					"if_action": {
						"type": "origins:execute_command",
						"command": "function spatialanomaly:save_overworld_coordinates"
					}
				},
				{
					"type": "origins:execute_command",
					"command": "tag @s add teleporting"
				},
				{
					"type": "origins:execute_command",
					"command": "execute in spatialanomaly:pocket_dimension as @e[type=minecraft:marker,tag=pocket_teleport_pos] if score @s RequiredUUID0 = @s ComparedUUID0 run tp @a[tag=spatial_anomaly,tag=teleporting] @s"
				},
				{
					"type": "origins:execute_command",
					"command": "tag @s remove teleporting"
				},
				{
					"type": "origins:execute_command",
					"command": "function spatialanomaly:generate_pocket"
				},
				{
					"type": "origins:execute_command",
					"command": "execute if predicate spatialanomaly:endermite_chance run summon minecraft:endermite"
				},
				{
					"type": "origins:play_sound",
					"sound": "minecraft:entity.enderman.teleport"
				}
			]
		}
	},
	"hidden": true
}